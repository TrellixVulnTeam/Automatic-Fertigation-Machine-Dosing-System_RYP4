{"ast":null,"code":"var _jsxFileName = \"/home/tran/Downloads/backend/client/src/contexts/DataContext.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useReducer, useState } from \"react\";\nimport { dataReducer } from \"../reducers/dataReducer\";\nimport { url, DATA_LOADED_FAIL, DATA_LOADED_SUCCESS, ADD_DEVICE, CONFIG, STATE_LOADED_FAIL, STATE_LOADED_SUCCESS, ADD_CONFIGTYPE, DELETE_CONFIGTYPE, FIND_CONFIGTYPE, UPDATE_CONFIGTYPE } from \"./constants\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DataContext = /*#__PURE__*/createContext();\n\nconst DataContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  //state\n  const [dataState, dispatch] = useReducer(dataReducer, {\n    data: [],\n    dataLoading: true\n  });\n  const [stateState, dispatchState] = useReducer(dataReducer, {\n    state: [],\n    stateLoading: true\n  });\n  const [typeState, dispatchType] = useReducer(dataReducer, {\n    config: [],\n    configLoading: true\n  });\n  const [showAddTypeModal, setShowAddTypeModal] = useState(false);\n  const [showUpdateTypeModal, setShowUpdateTypeModal] = useState(false);\n  const [showToast, setShowToast] = useState({\n    show: false,\n    message: \"\",\n    type: null\n  }); //get data\n\n  const getData = async () => {\n    try {\n      const responce = await axios.get(`${url}/data`);\n\n      if (responce.data.success) {\n        dispatch({\n          type: DATA_LOADED_SUCCESS,\n          payload: responce.data.getalldata\n        });\n      }\n    } catch (error) {\n      dispatch({\n        type: DATA_LOADED_FAIL\n      });\n    }\n  };\n\n  const getChartData = async () => {\n    try {\n      const responce = await axios.get(`${url}/data/chart`);\n\n      if (responce.data.success) {\n        dispatch({\n          type: DATA_LOADED_SUCCESS,\n          payload: responce.data.getalldata\n        });\n      }\n    } catch (error) {\n      dispatch({\n        type: DATA_LOADED_FAIL\n      });\n    }\n  };\n\n  const addDevices = async newDevice => {\n    try {\n      const response = await axios.post(`${url}/device`, newDevice);\n\n      if (response.data.success) {\n        dispatch({\n          type: ADD_DEVICE,\n          payload: response.data.post\n        });\n        return response.data;\n      }\n    } catch (error) {\n      return error.response.data ? error.response.data : {\n        success: false,\n        message: \"Server error\"\n      };\n    }\n  }; // config data\n\n\n  const config = async newConfig => {\n    try {\n      const response = await axios.post(`${url}/configdata`, newConfig);\n\n      if (response.data.success) {\n        dispatch({\n          type: CONFIG,\n          payload: response.data.post\n        });\n        return response.data;\n      }\n    } catch (error) {\n      return error.response.data ? error.response.data : {\n        success: false,\n        message: \"Server error\"\n      };\n    }\n  }; //get current config\n\n\n  const getConfigData = async () => {\n    try {\n      const responce = await axios.get(`${url}/configdata`);\n\n      if (responce.data.success) {\n        dispatch({\n          type: DATA_LOADED_SUCCESS,\n          payload: responce.data.getLastConfigData\n        });\n      }\n    } catch (error) {\n      dispatch({\n        type: DATA_LOADED_FAIL\n      });\n    }\n  }; //post new config type\n\n\n  const addConfigtype = async newConfig => {\n    try {\n      const response = await axios.post(`${url}/configdata/configtype`, newConfig);\n\n      if (response.data.success) {\n        dispatch({\n          type: CONFIG,\n          payload: response.data.post\n        });\n        return response.data;\n      }\n    } catch (error) {\n      return error.response.data ? error.response.data : {\n        success: false,\n        message: \"Server error\"\n      };\n    }\n  }; /// get status of device\n\n\n  const getState = async () => {\n    try {\n      const responce = await axios.get(`${url}/state`);\n\n      if (responce.data.success) {\n        dispatch({\n          type: STATE_LOADED_SUCCESS,\n          payload: responce.data.getState\n        });\n      }\n    } catch (error) {\n      dispatchState({\n        type: STATE_LOADED_FAIL\n      });\n    }\n  }; /// get config type of Crops\n\n\n  const getConfigType = async () => {\n    try {\n      const responce = await axios.get(`${url}/configdata/configtype`);\n\n      if (responce.data.success) {\n        dispatch({\n          type: DATA_LOADED_SUCCESS,\n          payload: responce.data.getLastConfigType\n        });\n      }\n    } catch (error) {\n      dispatchType({\n        type: DATA_LOADED_FAIL\n      });\n    }\n  };\n\n  const dataContextData = {\n    dataState,\n    stateState,\n    typeState,\n    addDevices,\n    getData,\n    getChartData,\n    config,\n    getConfigData,\n    getState,\n    addConfigtype,\n    getConfigType\n  };\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: dataContextData,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DataContextProvider, \"QLmkFle5aAeQOi5DYeX+/6WzlHI=\");\n\n_c = DataContextProvider;\nexport default DataContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataContextProvider\");","map":{"version":3,"sources":["/home/tran/Downloads/backend/client/src/contexts/DataContext.js"],"names":["createContext","useReducer","useState","dataReducer","url","DATA_LOADED_FAIL","DATA_LOADED_SUCCESS","ADD_DEVICE","CONFIG","STATE_LOADED_FAIL","STATE_LOADED_SUCCESS","ADD_CONFIGTYPE","DELETE_CONFIGTYPE","FIND_CONFIGTYPE","UPDATE_CONFIGTYPE","axios","DataContext","DataContextProvider","children","dataState","dispatch","data","dataLoading","stateState","dispatchState","state","stateLoading","typeState","dispatchType","config","configLoading","showAddTypeModal","setShowAddTypeModal","showUpdateTypeModal","setShowUpdateTypeModal","showToast","setShowToast","show","message","type","getData","responce","get","success","payload","getalldata","error","getChartData","addDevices","newDevice","response","post","newConfig","getConfigData","getLastConfigData","addConfigtype","getState","getConfigType","getLastConfigType","dataContextData"],"mappings":"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","sourcesContent":["import { createContext, useReducer, useState } from \"react\";\nimport { dataReducer } from \"../reducers/dataReducer\";\nimport {\n  url,\n  DATA_LOADED_FAIL,\n  DATA_LOADED_SUCCESS,\n  ADD_DEVICE,\n  CONFIG,\n  STATE_LOADED_FAIL,\n  STATE_LOADED_SUCCESS,\n  ADD_CONFIGTYPE,\n  DELETE_CONFIGTYPE,\n  FIND_CONFIGTYPE,\n  UPDATE_CONFIGTYPE,\n} from \"./constants\";\nimport axios from \"axios\";\n\nexport const DataContext = createContext();\n\nconst DataContextProvider = ({ children }) => {\n  //state\n  const [dataState, dispatch] = useReducer(dataReducer, {\n    data: [],\n    dataLoading: true,\n  });\n  const [stateState, dispatchState] = useReducer(dataReducer, {\n    state: [],\n    stateLoading: true,\n  });\n\n  const [typeState, dispatchType] = useReducer(dataReducer, {\n    config: [],\n    configLoading: true,\n  });\n\n  const [showAddTypeModal, setShowAddTypeModal] = useState(false);\n  const [showUpdateTypeModal, setShowUpdateTypeModal] = useState(false);\n  const [showToast, setShowToast] = useState({\n    show: false,\n    message: \"\",\n    type: null,\n  });\n  //get data\n  const getData = async () => {\n    try {\n      const responce = await axios.get(`${url}/data`);\n      if (responce.data.success) {\n        dispatch({\n          type: DATA_LOADED_SUCCESS,\n          payload: responce.data.getalldata,\n        });\n      }\n    } catch (error) {\n      dispatch({ type: DATA_LOADED_FAIL });\n    }\n  };\n\n  const getChartData = async () => {\n    try {\n      const responce = await axios.get(`${url}/data/chart`);\n      if (responce.data.success) {\n        dispatch({\n          type: DATA_LOADED_SUCCESS,\n          payload: responce.data.getalldata,\n        });\n      }\n    } catch (error) {\n      dispatch({ type: DATA_LOADED_FAIL });\n    }\n  };\n\n  const addDevices = async (newDevice) => {\n    try {\n      const response = await axios.post(`${url}/device`, newDevice);\n      if (response.data.success) {\n        dispatch({\n          type: ADD_DEVICE,\n          payload: response.data.post,\n        });\n        return response.data;\n      }\n    } catch (error) {\n      return error.response.data\n        ? error.response.data\n        : { success: false, message: \"Server error\" };\n    }\n  };\n  // config data\n  const config = async (newConfig) => {\n    try {\n      const response = await axios.post(`${url}/configdata`, newConfig);\n      if (response.data.success) {\n        dispatch({\n          type: CONFIG,\n          payload: response.data.post,\n        });\n        return response.data;\n      }\n    } catch (error) {\n      return error.response.data\n        ? error.response.data\n        : { success: false, message: \"Server error\" };\n    }\n  };\n\n  //get current config\n  const getConfigData = async () => {\n    try {\n      const responce = await axios.get(`${url}/configdata`);\n      if (responce.data.success) {\n        dispatch({\n          type: DATA_LOADED_SUCCESS,\n          payload: responce.data.getLastConfigData,\n        });\n      }\n    } catch (error) {\n      dispatch({ type: DATA_LOADED_FAIL });\n    }\n  };\n\n  //post new config type\n\n  const addConfigtype = async (newConfig) => {\n    try {\n      const response = await axios.post(\n        `${url}/configdata/configtype`,\n        newConfig\n      );\n      if (response.data.success) {\n        dispatch({\n          type: CONFIG,\n          payload: response.data.post,\n        });\n        return response.data;\n      }\n    } catch (error) {\n      return error.response.data\n        ? error.response.data\n        : { success: false, message: \"Server error\" };\n    }\n  };\n\n  /// get status of device\n  const getState = async () => {\n    try {\n      const responce = await axios.get(`${url}/state`);\n      if (responce.data.success) {\n        dispatch({\n          type: STATE_LOADED_SUCCESS,\n          payload: responce.data.getState,\n        });\n      }\n    } catch (error) {\n      dispatchState({ type: STATE_LOADED_FAIL });\n    }\n  };\n\n  /// get config type of Crops\n  const getConfigType = async () => {\n    try {\n      const responce = await axios.get(`${url}/configdata/configtype`);\n      if (responce.data.success) {\n        dispatch({\n          type: DATA_LOADED_SUCCESS,\n          payload: responce.data.getLastConfigType,\n        });\n      }\n    } catch (error) {\n      dispatchType({ type: DATA_LOADED_FAIL });\n    }\n  };\n\n  const dataContextData = {\n    dataState,\n    stateState,\n    typeState,\n    addDevices,\n    getData,\n    getChartData,\n    config,\n    getConfigData,\n    getState,\n    addConfigtype,\n    getConfigType,\n  };\n  return (\n    <DataContext.Provider value={dataContextData}>\n      {children}\n    </DataContext.Provider>\n  );\n};\nexport default DataContextProvider;\n"]},"metadata":{},"sourceType":"module"}