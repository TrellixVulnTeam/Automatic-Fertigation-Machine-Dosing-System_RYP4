{"ast":null,"code":"var _jsxFileName = \"/home/tran/Downloads/LVTN/client/src/views/Device.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext, useEffect, useRef } from \"react\";\nimport \"./device.css\";\nimport { DataContext } from \"../contexts/DataContext\";\nimport { TypeContext } from \"../contexts/TypeContext\";\nimport { ConfigContext } from \"../contexts/ConfigContext\";\nimport { TotalVolumeContext } from \"../contexts/TotalVolumeContext\";\nimport { AuthContext } from \"../contexts/AuthContext\";\nimport AlertMessage from \"../components/layout/AlertMessage\";\nimport devicelogo from \"../assets/device.jpg\";\nimport PHImage from \"../assets/PH.png\";\nimport React from \"react\";\nimport { io } from \"socket.io-client\";\nimport { SetVolumeContext } from \"../contexts/SetVolumeContext\";\nimport Button from \"react-bootstrap/Button\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport ActionButtons from \"../type/ActionButton\";\nimport addButton from \"../assets/addButton.png\";\nimport SingleType from \"../type/SingleType\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Device = () => {\n  _s();\n\n  const {\n    dataState: {\n      data: {\n        device\n      }\n    },\n    getData\n  } = useContext(DataContext);\n  const [data, setData] = useState({\n    data: []\n  });\n  const {\n    totalVolumeState: {\n      totalVolume: {\n        Nutri_A,\n        Nutri_B,\n        Water,\n        Acid_So,\n        Base_So\n      }\n    },\n    getTotalVolume\n  } = useContext(TotalVolumeContext);\n  const {\n    typeState: {\n      configtype,\n      config,\n      configLoading\n    },\n    getConfigType,\n    setShowAddTypeModal,\n    showToast: {\n      show,\n      message,\n      Type\n    },\n    setShowToast\n  } = useContext(TypeContext);\n  const {\n    configState: {\n      currentConfig: {\n        type,\n        TDS,\n        dead_TDS,\n        PH,\n        dead_PH,\n        nutri_Ratio\n      }\n    },\n    getConfigData\n  } = useContext(ConfigContext);\n  const {\n    setVolumeState: {\n      setVolume: {\n        Nutri_A_full,\n        Nutri_B_full,\n        Acid_So_full,\n        Base_So_full\n      }\n    },\n    getSetVolume\n  } = useContext(SetVolumeContext);\n  useEffect(() => getData(), []);\n  useEffect(() => getTotalVolume(), []);\n  useEffect(() => getConfigData(), []);\n  useEffect(() => getSetVolume(), []);\n  console.log(Nutri_A_full, Nutri_B_full, Acid_So_full, Base_So_full); // add device\n\n  const {\n    addDevices\n  } = useContext(DataContext);\n  const [newDevice, setNewDevice] = useState({\n    device: \"\"\n  });\n  const {\n    deviceID\n  } = newDevice;\n  const [alert, setAlert] = useState(null);\n\n  const onChangeNewDeviceForm = event => setNewDevice({ ...newDevice,\n    [event.target.name]: event.target.value\n  });\n\n  const onSubmmit = async event => {\n    event.preventDefault();\n\n    try {\n      const {\n        message\n      } = await addDevices(newDevice);\n      setAlert({\n        type: \"danger\",\n        message: message\n      });\n      setTimeout(() => setAlert(null), 5000);\n      setNewDevice({\n        deviceID: \"\"\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }; // config data\n  // const { config } = useContext(DataContext);\n\n\n  const [alert_conf, setAlert_conf] = useState(null);\n  const [newConfig, newSetConfig] = useState({\n    TDS: \"\",\n    dead_TDS: \"\",\n    PH: \"\",\n    dead_PH: \"\",\n    nutri_Ratio: \"\"\n  });\n  const {\n    newTDS,\n    newDead_TDS,\n    newPH,\n    newDead_PH,\n    newnutri_Ratio\n  } = newConfig;\n\n  const onSubmmitConf = async event => {\n    event.preventDefault();\n\n    try {\n      const {\n        message\n      } = await config(newConfig);\n      setAlert_conf({\n        type: \"danger\",\n        message: message\n      });\n      setTimeout(() => setAlert_conf(null), 5000);\n      newSetConfig({\n        TDS: \" \",\n        dead_TDS: \" \",\n        PH: \" \",\n        dead_PH: \" \",\n        nutri_Ratio: \" \"\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const onChangeNewSetConfigForm = event => newSetConfig({ ...newConfig,\n    device,\n    type: \"Manual\",\n    [event.target.name]: event.target.value\n  }); //socket io\n\n\n  const {\n    authState: {\n      user: {\n        username,\n        _id\n      }\n    }\n  } = useContext(AuthContext);\n  const socket = useRef();\n  useEffect(() => {\n    socket.current = io(\"ws://localhost:5200\", {\n      reconnection: true,\n      reconnectionDelay: 500,\n      reconnectionAttempts: 10\n    });\n    socket.current.on();\n  }, []);\n  useEffect(() => {\n    socket.current.emit(\"addUser\", _id);\n    socket.current.on(\"getUsers\", users => {\n      console.log(users);\n    });\n    socket.current.emit(\"getConfig\", _id);\n    socket.current.on(\"sendConfig\", config => {\n      console.log(config);\n      setData(config);\n    });\n  }, [username]);\n  let body1 = null;\n\n  if (configLoading) {\n    body1 = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  } else if (config.length === 0) {\n    body1 = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"title-new-vegetable\",\n        children: \"Click button below to add a new vegetables\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"button-new-vegetable\",\n        variant: \"primary\",\n        onClick: setShowAddTypeModal.bind(this, true),\n        children: \"Add new vegetables\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  } else {\n    body1 = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title-new-vegetable\",\n        children: [\"Current setting is \", type]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"singleType\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"valueName\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"typeName\",\n            children: \"Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"TDS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dead_TDSName\",\n            children: \"dead TDS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"PHName\",\n            children: \"PH\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dead_PHName\",\n            children: \"dead PH\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"nutri_ratioName\",\n            children: \"Nutri ratio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n        placement: \"left\",\n        overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n          children: \"Add a new vegetable\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 20\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn-floating\",\n          onClick: setShowAddTypeModal.bind(this, true),\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: addButton,\n            height: \"20\",\n            width: \"20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), config.map(options => /*#__PURE__*/_jsxDEV(SingleType, {\n        config: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"config\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Config value\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: onSubmmitConf,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"PH-config\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pH\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: [\"Current PH value set: \", PH]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.01\",\n                className: \"text\",\n                placeholder: \"Set PH value...\",\n                name: \"PH\",\n                value: newPH,\n                onChange: onChangeNewSetConfigForm,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dead_PH\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: [\"Current dead PH value set: \", dead_PH]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.01\",\n                className: \"text\",\n                placeholder: \"Dead PH value...\",\n                name: \"dead_PH\",\n                value: newDead_PH,\n                onChange: onChangeNewSetConfigForm,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"TDS-config\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tDS\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: [\"Current TDS value set: \", TDS, \" ppm\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.01\",\n                className: \"text\",\n                placeholder: \"Set TDS value...\",\n                name: \"TDS\",\n                value: newTDS,\n                onChange: onChangeNewSetConfigForm,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dead_TDS\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: [\"Current dead TDS value set: \", dead_TDS, \" ppm\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.01\",\n                className: \"text\",\n                placeholder: \"Dead TDS value...\",\n                name: \"dead_TDS\",\n                value: newDead_TDS,\n                onChange: onChangeNewSetConfigForm,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"nutriRatio\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"Current nutri ratio value set: \", nutri_Ratio, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              step: \"0.01\",\n              className: \"text\",\n              placeholder: \"Nutri ratio value...\",\n              name: \"nutri_Ratio\",\n              value: newnutri_Ratio,\n              onChange: onChangeNewSetConfigForm,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AlertMessage, {\n            info: alert_conf,\n            className: \"message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            className: \"button\",\n            value: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Current Nutri_A left \", Nutri_A, \" ml\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Current Nutri_B left \", Nutri_B, \" ml\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Current Acid_So left \", Acid_So, \" ml\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Current Base_So \", Base_So, \" ml\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Current Nutri_A_full left \", Nutri_A_full, \" ml\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Current Nutri_B_full left \", Nutri_B_full, \" ml\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Current Acid_So_full left \", Acid_So_full, \" ml\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Current Base_So_full \", Base_So_full, \" ml\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addDevice\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"device-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: devicelogo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Add your new device\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: onSubmmit,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"text\",\n              placeholder: \"Device ID...\",\n              name: \"device\",\n              value: deviceID,\n              onChange: onChangeNewDeviceForm,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AlertMessage, {\n              info: alert\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              className: \"addButton\",\n              value: \"Add device  \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Device, \"r16gAlLBtSwM6sEgOAP/241ds7U=\");\n\n_c = Device;\nexport default Device;\n\nvar _c;\n\n$RefreshReg$(_c, \"Device\");","map":{"version":3,"sources":["/home/tran/Downloads/LVTN/client/src/views/Device.js"],"names":["useState","useContext","useEffect","useRef","DataContext","TypeContext","ConfigContext","TotalVolumeContext","AuthContext","AlertMessage","devicelogo","PHImage","React","io","SetVolumeContext","Button","Tooltip","OverlayTrigger","ActionButtons","addButton","SingleType","Device","dataState","data","device","getData","setData","totalVolumeState","totalVolume","Nutri_A","Nutri_B","Water","Acid_So","Base_So","getTotalVolume","typeState","configtype","config","configLoading","getConfigType","setShowAddTypeModal","showToast","show","message","Type","setShowToast","configState","currentConfig","type","TDS","dead_TDS","PH","dead_PH","nutri_Ratio","getConfigData","setVolumeState","setVolume","Nutri_A_full","Nutri_B_full","Acid_So_full","Base_So_full","getSetVolume","console","log","addDevices","newDevice","setNewDevice","deviceID","alert","setAlert","onChangeNewDeviceForm","event","target","name","value","onSubmmit","preventDefault","setTimeout","error","alert_conf","setAlert_conf","newConfig","newSetConfig","newTDS","newDead_TDS","newPH","newDead_PH","newnutri_Ratio","onSubmmitConf","onChangeNewSetConfigForm","authState","user","username","_id","socket","current","reconnection","reconnectionDelay","reconnectionAttempts","on","emit","users","body1","length","bind","map","options"],"mappings":"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","sourcesContent":["import { useState, useContext, useEffect, useRef } from \"react\";\nimport \"./device.css\";\nimport { DataContext } from \"../contexts/DataContext\";\nimport { TypeContext } from \"../contexts/TypeContext\";\nimport { ConfigContext } from \"../contexts/ConfigContext\";\nimport { TotalVolumeContext } from \"../contexts/TotalVolumeContext\";\nimport { AuthContext } from \"../contexts/AuthContext\";\nimport AlertMessage from \"../components/layout/AlertMessage\";\nimport devicelogo from \"../assets/device.jpg\";\nimport PHImage from \"../assets/PH.png\";\nimport React from \"react\";\nimport { io } from \"socket.io-client\";\nimport { SetVolumeContext } from \"../contexts/SetVolumeContext\";\n\nimport Button from \"react-bootstrap/Button\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport ActionButtons from \"../type/ActionButton\";\nimport addButton from \"../assets/addButton.png\";\nimport SingleType from \"../type/SingleType\";\nconst Device = () => {\n  const {\n    dataState: {\n      data: { device },\n    },\n    getData,\n  } = useContext(DataContext);\n\n  const [data, setData] = useState({ data: [] });\n\n  const {\n    totalVolumeState: {\n      totalVolume: { Nutri_A, Nutri_B, Water, Acid_So, Base_So },\n    },\n    getTotalVolume,\n  } = useContext(TotalVolumeContext);\n\n  const {\n    typeState: { configtype, config, configLoading },\n    getConfigType,\n    setShowAddTypeModal,\n    showToast: { show, message, Type },\n    setShowToast,\n  } = useContext(TypeContext);\n\n  const {\n    configState: {\n      currentConfig: { type, TDS, dead_TDS, PH, dead_PH, nutri_Ratio },\n    },\n    getConfigData,\n  } = useContext(ConfigContext);\n\n  const {\n    setVolumeState: {\n      setVolume: { Nutri_A_full, Nutri_B_full, Acid_So_full, Base_So_full },\n    },\n    getSetVolume,\n  } = useContext(SetVolumeContext);\n\n  useEffect(() => getData(), []);\n  useEffect(() => getTotalVolume(), []);\n  useEffect(() => getConfigData(), []);\n  useEffect(() => getSetVolume(), []);\n  console.log(Nutri_A_full, Nutri_B_full, Acid_So_full, Base_So_full);\n  // add device\n\n  const { addDevices } = useContext(DataContext);\n\n  const [newDevice, setNewDevice] = useState({\n    device: \"\",\n  });\n\n  const { deviceID } = newDevice;\n\n  const [alert, setAlert] = useState(null);\n\n  const onChangeNewDeviceForm = (event) =>\n    setNewDevice({\n      ...newDevice,\n      [event.target.name]: event.target.value,\n    });\n\n  const onSubmmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { message } = await addDevices(newDevice);\n      setAlert({ type: \"danger\", message: message });\n      setTimeout(() => setAlert(null), 5000);\n      setNewDevice({ deviceID: \"\" });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  // config data\n\n  // const { config } = useContext(DataContext);\n\n  const [alert_conf, setAlert_conf] = useState(null);\n\n  const [newConfig, newSetConfig] = useState({\n    TDS: \"\",\n    dead_TDS: \"\",\n    PH: \"\",\n    dead_PH: \"\",\n    nutri_Ratio: \"\",\n  });\n\n  const { newTDS, newDead_TDS, newPH, newDead_PH, newnutri_Ratio } = newConfig;\n\n  const onSubmmitConf = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { message } = await config(newConfig);\n      setAlert_conf({ type: \"danger\", message: message });\n      setTimeout(() => setAlert_conf(null), 5000);\n      newSetConfig({\n        TDS: \" \",\n        dead_TDS: \" \",\n        PH: \" \",\n        dead_PH: \" \",\n        nutri_Ratio: \" \",\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const onChangeNewSetConfigForm = (event) =>\n    newSetConfig({\n      ...newConfig,\n      device,\n      type: \"Manual\",\n      [event.target.name]: event.target.value,\n    });\n\n  //socket io\n  const {\n    authState: {\n      user: { username, _id },\n    },\n  } = useContext(AuthContext);\n  const socket = useRef();\n\n  useEffect(() => {\n    socket.current = io(\"ws://localhost:5200\", {\n      reconnection: true,\n      reconnectionDelay: 500,\n      reconnectionAttempts: 10,\n    });\n    socket.current.on();\n  }, []);\n\n  useEffect(() => {\n    socket.current.emit(\"addUser\", _id);\n    socket.current.on(\"getUsers\", (users) => {\n      console.log(users);\n    });\n    socket.current.emit(\"getConfig\", _id);\n    socket.current.on(\"sendConfig\", (config) => {\n      console.log(config);\n      setData(config);\n    });\n  }, [username]);\n\n  let body1 = null;\n  if (configLoading) {\n    body1 = (\n      <>\n        <h1>Loading</h1>\n      </>\n    );\n  } else if (config.length === 0) {\n    body1 = (\n      <>\n        <h3 className=\"title-new-vegetable\">\n          Click button below to add a new vegetables\n        </h3>\n        <Button\n          className=\"button-new-vegetable\"\n          variant=\"primary\"\n          onClick={setShowAddTypeModal.bind(this, true)}\n        >\n          Add new vegetables\n        </Button>\n      </>\n    );\n  } else {\n    body1 = (\n      <>\n        {/* <Select\n          options={options}\n          onChange={(e) => {\n            console.log(e);\n            const typeState = e.value;\n            setSelectTypeState(typeState);\n          }}\n        /> */}\n\n        <div className=\"title-new-vegetable\">Current setting is {type}</div>\n        <div className=\"singleType\">\n          <div className=\"valueName\">\n            <div className=\"typeName\">Type</div>\n            <div>TDS</div>\n            <div className=\"dead_TDSName\">dead TDS</div>\n            <div className=\"PHName\">PH</div>\n            <div className=\"dead_PHName\">dead PH</div>\n            <div className=\"nutri_ratioName\">Nutri ratio</div>\n          </div>\n        </div>\n        <OverlayTrigger\n          placement=\"left\"\n          overlay={<Tooltip>Add a new vegetable</Tooltip>}\n        >\n          <Button\n            className=\"btn-floating\"\n            onClick={setShowAddTypeModal.bind(this, true)}\n          >\n            <img src={addButton} height=\"20\" width=\"20\" />\n          </Button>\n        </OverlayTrigger>\n        {config.map((options) => (\n          <SingleType config={options} />\n        ))}\n      </>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"main\">\n        <div className=\"config\">\n          <h1>Config value</h1>\n\n          <form onSubmit={onSubmmitConf}>\n            <div className=\"PH-config\">\n              <div className=\"pH\">\n                <h2>Current PH value set: {PH}</h2>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  className=\"text\"\n                  placeholder=\"Set PH value...\"\n                  name=\"PH\"\n                  value={newPH}\n                  onChange={onChangeNewSetConfigForm}\n                  required\n                />\n              </div>\n              <div className=\"dead_PH\">\n                <h2>Current dead PH value set: {dead_PH}</h2>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  className=\"text\"\n                  placeholder=\"Dead PH value...\"\n                  name=\"dead_PH\"\n                  value={newDead_PH}\n                  onChange={onChangeNewSetConfigForm}\n                  required\n                />\n              </div>\n            </div>\n\n            <div className=\"TDS-config\">\n              <div className=\"tDS\">\n                <h2>Current TDS value set: {TDS} ppm</h2>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  className=\"text\"\n                  placeholder=\"Set TDS value...\"\n                  name=\"TDS\"\n                  value={newTDS}\n                  onChange={onChangeNewSetConfigForm}\n                  required\n                />\n              </div>\n              <div className=\"dead_TDS\">\n                <h2>Current dead TDS value set: {dead_TDS} ppm</h2>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  className=\"text\"\n                  placeholder=\"Dead TDS value...\"\n                  name=\"dead_TDS\"\n                  value={newDead_TDS}\n                  onChange={onChangeNewSetConfigForm}\n                  required\n                />\n              </div>\n            </div>\n            {/* <img src={PHImage} /> */}\n            <div className=\"nutriRatio\">\n              <h2>Current nutri ratio value set: {nutri_Ratio} </h2>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                className=\"text\"\n                placeholder=\"Nutri ratio value...\"\n                name=\"nutri_Ratio\"\n                value={newnutri_Ratio}\n                onChange={onChangeNewSetConfigForm}\n                required\n              />\n            </div>\n            <AlertMessage info={alert_conf} className=\"message\" />\n            <input type=\"submit\" className=\"button\" value=\"Submit\" />\n          </form>\n          <div>Current Nutri_A left {Nutri_A} ml</div>\n          <div>Current Nutri_B left {Nutri_B} ml</div>\n          <div>Current Acid_So left {Acid_So} ml</div>\n          <div>Current Base_So {Base_So} ml</div>\n          <div>Current Nutri_A_full left {Nutri_A_full} ml</div>\n          <div>Current Nutri_B_full left {Nutri_B_full} ml</div>\n          <div>Current Acid_So_full left {Acid_So_full} ml</div>\n          <div>Current Base_So_full {Base_So_full} ml</div>\n        </div>\n      </div>\n\n      <div className=\"addDevice\">\n        <div className=\"device-box\">\n          <img src={devicelogo} />\n          <div className=\"form\">\n            <h1>Add your new device</h1>\n            <form onSubmit={onSubmmit}>\n              <input\n                type=\"text\"\n                className=\"text\"\n                placeholder=\"Device ID...\"\n                name=\"device\"\n                value={deviceID}\n                onChange={onChangeNewDeviceForm}\n                required\n              />\n              <AlertMessage info={alert} />\n              <input type=\"submit\" className=\"addButton\" value=\"Add device  \" />\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default Device;\n"]},"metadata":{},"sourceType":"module"}